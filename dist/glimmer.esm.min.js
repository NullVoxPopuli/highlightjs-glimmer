function i(n){function a(){return{name:"Ember.JS, Glimmer",aliases:["glimmer","hbs","html.hbs","html.handlebars","htmlbars"],case_insensitive:!0,keywords:c,disableAutodetect:!0,contains:[n.COMMENT(/\{\{!--/,/--\}\}/),n.COMMENT(/\{\{!/,/\}\}/),n.COMMENT(/<!--/,/-->/),l,...N,E,u,f,...z]}}let s="eq neq",r="gt gte le lte",o="and or not",e="not-eq xor is-array is-object is-equal",L="let each each-in if else unless",O="log debugger",M="has-block concat fn component helper modifier get hash query-params",I="action on",P="outlet yield",C="true false undefined null",c={$pattern:/\b[\w][\w-]+\b/,keyword:`${P} ${I} ${O}`,built_in:L,function:`${e} ${M} ${s} ${r} ${o}`,literal:C},A=t.either(t.concat(/[a-zA-Z_]/,t.optional(/[A-Z0-9:_.-]*:/),/[A-Z0-9_.-]*/),/[a-z]/),m=/[A-Z][A-Za-z0-9]+/,U=t.either(m,/[a-zA-Z0-9]*\.[a-zA-Z0-9-]*/,t.concat(m,/::/,/-?/,m),/[a-z]/),k=/[a-z-][a-z\d-_]+\b/,w=/[@A-Za-z0-9._:-]+/,l={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},y={className:"punctuation",match:t.either(/\./,/\{\{\{?#?\/?/,/\}\}\}?/,/\(/,/\)/,/::/,/\|/,/~/)},S={begin:/as\s+\|/,keywords:{keyword:"as"},end:/\|/,contains:[{className:"template-variable",begin:w}]},E={className:"operator",match:/\=/},u={className:{1:"punctuation",2:"params"},match:[/@/,/[\w\d-_]+/]},b={className:{1:"attribute",2:"operator"},match:[/[A-Za-z0-9-_]+/,/=/]},R={className:{1:"class",2:"punctuation",3:"variable"},match:[/this/,/\./,/[^\s}]+/]},T={className:"title",match:U},B={className:"title",match:k,keywords:c},x={className:"number",match:/[\d]+((\.[\d]+))?/},f={className:"comment",begin:/\{\{!--/,contains:[{className:"comment",match:/.+/},{begin:/--\}\}/,endsParent:!0}]},g={className:"string",variants:[{begin:/"/,end:/"/,contains:[l]},{begin:/'/,end:/'/,contains:[l]}]},_=[y,E,u,x,S,R,b,B,g],h={keywords:c,begin:t.concat(/\(/,t.lookahead(t.concat(/\)/))),end:/\)/,contains:[..._,"self",{begin:/\)/,endsParent:!0}]};_.push(h);let N=[{className:"punctuation mustache",keywords:c,begin:t.concat(/\{\{\{?#?/),end:/\}\}\}?/,contains:[{begin:/\}\}\}?/,endsParent:!0},..._,h]}];g.variants.forEach(H=>H.contains.push(...N));let z=[{className:"tag",begin:t.concat(/<:?/,t.lookahead(t.concat(A,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[E,u,f,S,R,...N,b,g,T]},{className:"tag",begin:t.concat(/<\/:?/,t.lookahead(t.concat(A,/>/))),end:/\>/,contains:[T]}];return a()}function G(n){return d("(?=",n,")")}function v(n){return d("(",n,")?")}function d(...n){return n.map(s=>p(s)).join("")}function Z(...n){return"("+n.map(s=>p(s)).join("|")+")"}function p(n){return n?typeof n=="string"?n:n.source:null}var t={lookahead:G,either:Z,optional:v,concat:d};var Y=i;function J(n){$(n),j(n)}function $(n){n.registerLanguage("glimmer",i)}function j(n){K(n)}function K(n){let a=n.getLanguage("javascript");if(!a){console.warn("JavaScript grammar not loaded");return}a=a.rawDefinition(n);let s=a.contains.findIndex(e=>(e==null?void 0:e.begin)==="css`"),r=a.contains[s];a.contains.flatMap(e=>(e==null?void 0:e.contains)||e).filter(e=>e.subLanguage==="xml").forEach(e=>e.subLanguage="glimmer");let o=n.inherit(r,{begin:/hbs`/});o.starts.subLanguage="glimmer",a.contains.splice(s,0,o),n.registerLanguage("javascript",()=>a)}export{Y as glimmer,j as registerInjections,$ as registerLanguage,J as setup};
