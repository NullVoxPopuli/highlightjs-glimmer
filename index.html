<html lang="en">
  <head>
    <title>Glimmer w/ Highlight.js</title>
    <meta title="description" content="Glimmer syntax highlighting powered by Highlight.js" />

    <link rel="stylesheet" href="/path/to/styles/default.css">
    <!-- Hybrid Theme! -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/tomorrow-night.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/atom-one-dark-reasonable.min.css">


    <!-- For testing this library -->
    <script type="module">
      import { hljs } from './vendor/highlight.js';
      import { javascript } from './vendor/javascript.min.js';
      import { registerLanguage as glimmer } from './src/index.js';
      import * as samples from './demo/samples.js';

      hljs.registerLanguage('javascript', javascript);
      glimmer(hljs);

      function updatePreview(sampleInfo) {
        let preview = document.querySelector('pre code');

        preview.innerText = sampleInfo.sample;
        preview.classList = `language-${sampleInfo.language}`;

        hljs.highlightAll();
      }

      let sampleNav = document.querySelector('#samples');
      let sampleLinks = Object.entries(samples).map(([key, data]) => {
        let link = document.createElement('a');

        link.href = `/?sample=${key}`;
        link.innerText = data.name;
        link.addEventListener('click', (e) => {
          e.preventDefault();

          history.pushState(null, data.name, e.target.href);
          updatePreview(data);
        });

        return link;
      });

      sampleNav.append(...sampleLinks);

      let qps = new URLSearchParams(location.search);
      let initialKey = qps.get('sample') || 'glimmer';
      let initialSample = samples[initialKey] ;

      updatePreview(initialSample);
    </script>
    <style>
      @font-face {
        font-family: dejavu-sans-mono;
        src: url('./demo/DejaVuSansMono.ttf');
      }
      html, body {
        background-color: #181c24;
        color: white;
        padding: 0;
        margin: 0;
        font-family: system-ui, arial, sans-serif;
      }
      code {
        font-family: dejavu-sans-mono, ui-monospace, monospace, sans-serif;
      }
      pre {
        margin: 0;
      }
      pre code.hljs {
        padding: 1rem;
      }
      section {
        padding: 1rem;
      }
      section nav {
        display: flex;
        gap: 0.5rem;
      }
      section div {
        display: flex;
        gap: 1rem;
        align-items:center;
        flex-wrap: wrap;
      }
      nav a {
        color: #61aeee;
      }
      hr {
        margin: 1rem 0;
        border: 1px solid black;
      }
      #samples {
        display: flex;
        flex-direction: row;
        gap: 1rem;
        flex-wrap: wrap;
      }
    </style>
  </head>
  <body>
    <section>
      <h1>Glimmer for highlight.js</h1>
      <div>
        <nav>
          <a href="https://github.com/NullVoxPopuli/highlightjs-glimmer">GitHub</a>
          <a href="https://www.npmjs.com/package/highlightjs-glimmer">NPM</a>
        </nav>
        <code>npm install highlightjs-glimmer</code>
      </div>
      <hr />
      <nav id="samples">
        <span>Samples:</span>
      </nav>
    </section>
    <pre>
      <code class="language-glimmer"></code>
    </pre>
  </body>
</html>
